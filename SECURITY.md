# 安全策略

## 支持的版本

目前仅支持最新版本 v1.0.0。如果发现安全问题，请及时报告。

## 报告安全漏洞

### 请勿公开披露

如果发现严重的安全漏洞，请**不要**在公共 Issue 中讨论，而是直接发送邮件给项目维护者。

### 如何报告

1. 发送邮件至：hzxjcx@gmail.com
2. 邮件标题格式：`[安全漏洞] SupabaseDBManager - 漏洞描述`
3. 提供以下信息：
   - 漏洞描述
   - 影响范围
   - 复现步骤
   - 可能的修复建议

### 报告后

1. 我们会在 48 小时内确认收到报告
2. 在 7 天内评估漏洞并制定修复计划
3. 修复完成后，我们会通知你可以升级的版本
4. 协调披露时间表

## 安全最佳实践

### 用户侧

1. **保护配置文件**
   - 不要将包含真实密码的 `appsettings.json` 提交到版本控制
   - 定期更换数据库密码
   - 使用强密码

2. **网络安全**
   - 在安全的网络环境下使用工具
   - 不要在公共电脑上保存配置
   - 使用 VPN 访问生产数据库

3. **访问控制**
   - 限制对数据库的访问权限
   - 使用只读账号进行查询操作
   - 定期审查 Supabase RLS 策略

### 开发侧

1. **配置加密**
   - 使用 Windows DPAPI 加密敏感配置
   - 不在日志中记录敏感信息

2. **连接安全**
   - 支持 SSL/TLS 连接
   - 不在代码中硬编码密码

3. **依赖管理**
   - 定期更新 NuGet 包
   - 关注安全公告

## 已知的安全考虑

### 配置存储

- 配置文件使用 Windows DPAPI 加密存储
- 加密密后的配置仅当前用户可访问
- 配置文件路径：`%LOCALAPPDATA%\SupabaseDBManager\`

### 数据库连接

- 连接字符串使用 SSL 传输
- 不支持 PREPARE 语句（Pooler 模式要求）
- 连接超时保护（默认 30 秒）

### 数据处理

- 所有数据库操作使用参数化查询，防止 SQL 注入
- 不缓存敏感数据
- 错误消息不暴露敏感信息

## 许可证

本项目使用 MIT 许可证，详见 [LICENSE](LICENSE) 文件。

## 安全事件响应

如果发生安全事件：

1. **立即响应** - 在 24 小时内确认并评估
2. **透明沟通** - 及时通知用户已知影响
3. **快速修复** - 在合理时间内发布修复版本
4. **事后分析** - 总结经验，改进流程

## 致谢

感谢所有帮助发现和修复安全问题的贡献者！
