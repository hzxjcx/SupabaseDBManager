<Window x:Class="SupabaseDBManager.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Supabase æ•°æ®åº“ç®¡ç†å·¥å…· v1.0" Height="800" Width="1400"
        WindowStartupLocation="CenterScreen"
        Background="#F5F5F5">

    <Window.Resources>
        <!-- ä¸»æŒ‰é’®æ ·å¼ -->
        <Style x:Key="PrimaryButton" TargetType="Button">
            <Setter Property="Background" Value="#0078D4"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Padding" Value="15,8"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                Padding="{TemplateBinding Padding}"
                                CornerRadius="4">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#005A9E"/>
                </Trigger>
                <Trigger Property="IsEnabled" Value="False">
                    <Setter Property="Background" Value="#CCCCCC"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- æ¬¡è¦æŒ‰é’®æ ·å¼ -->
        <Style x:Key="SecondaryButton" TargetType="Button">
            <Setter Property="Background" Value="#6C757D"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Padding" Value="12,6"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                Padding="{TemplateBinding Padding}"
                                CornerRadius="4">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#5A6268"/>
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>

    <Grid Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- è¿žæŽ¥é…ç½® -->
            <RowDefinition Height="*"/>
            <!-- ä¸»å†…å®¹ -->
            <RowDefinition Height="Auto"/>
            <!-- çŠ¶æ€æ  -->
        </Grid.RowDefinitions>

        <!-- è¿žæŽ¥é…ç½®åŒºåŸŸ -->
        <GroupBox Header="æ•°æ®åº“è¿žæŽ¥é…ç½®" Grid.Row="0" Margin="0,0,0,10" Padding="10">
            <GroupBox.HeaderTemplate>
                <DataTemplate>
                    <TextBlock Text="{Binding}" FontSize="13" FontWeight="Bold" Foreground="#333"/>
                </DataTemplate>
            </GroupBox.HeaderTemplate>

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- URL è¡Œ -->
                <TextBlock Grid.Row="0" Grid.Column="0" Text="URL:" VerticalAlignment="Center"
                           FontSize="12" FontWeight="Bold" Margin="0,0,10,10"/>
                <TextBox x:Name="SupabaseUrlTextBox" Grid.Row="0" Grid.Column="1"
                         Text="https://xxx.supabase.co" Margin="0,0,10,10"
                         Height="28" VerticalContentAlignment="Center" FontSize="12"/>

                <!-- Connection String è¡Œ -->
                <TextBlock Grid.Row="1" Grid.Column="0" Text="Connection String:" VerticalAlignment="Center"
                           FontSize="12" FontWeight="Bold" Margin="0,0,10,0"/>
                <Grid Grid.Row="1" Grid.Column="1" Margin="0,0,10,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <PasswordBox x:Name="ConnectionStringPasswordBox" Grid.Column="0"
                                 Height="28" VerticalContentAlignment="Center" FontSize="12"/>
                    <Button Grid.Column="1" Content="ðŸ‘ï¸" Width="45" Margin="5,0,0,0"
                            Click="OnToggleConnectionStringVisibilityClick" ToolTip="æ˜¾ç¤º/éšè—å¯†ç "
                            Style="{StaticResource SecondaryButton}"/>
                </Grid>

                <!-- æ“ä½œæŒ‰é’® -->
                <StackPanel Grid.Row="0" Grid.Column="2" Grid.RowSpan="2" Orientation="Horizontal" VerticalAlignment="Top">
                    <Button x:Name="TestConnectionButton" Content="ðŸ”— æµ‹è¯•è¿žæŽ¥"
                            Width="110" Height="28" Click="OnTestConnectionClick"
                            Style="{StaticResource SecondaryButton}" Margin="0,0,5,0"/>
                    <Button x:Name="SaveConfigButton" Content="ðŸ’¾ ä¿å­˜é…ç½®"
                            Width="110" Height="28" Click="OnSaveConfigClick"
                            Style="{StaticResource SecondaryButton}"/>
                </StackPanel>
            </Grid>
        </GroupBox>

        <!-- ä¸»å†…å®¹åŒºåŸŸ -->
        <TabControl Grid.Row="1" Background="White" x:Name="MainTabControl">
            <!-- Tables æ ‡ç­¾é¡µ -->
            <TabItem Header="Tables" FontSize="12">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="280"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- è¡¨åˆ—è¡¨ -->
                    <Border Grid.Column="0" BorderBrush="#DDD" BorderThickness="0,0,1,0" Background="#FAFAFA">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <!-- æœç´¢æ¡† -->
                            <TextBox x:Name="TableSearchTextBox" Grid.Row="0"
                                     Height="28" Margin="8" FontSize="12"
                                     VerticalContentAlignment="Center"
                                     TextChanged="OnTableSearchTextChanged"
                                     ToolTip="æœç´¢è¡¨å"/>

                            <!-- è¡¨åˆ—è¡¨ -->
                            <TreeView x:Name="TablesTreeView" Grid.Row="1" Margin="8,0,8,8"
                                      BorderThickness="1" BorderBrush="#DDD"
                                      SelectedItemChanged="OnTablesTreeViewSelectedItemChanged"/>
                        </Grid>
                    </Border>

                    <!-- è¡¨è¯¦æƒ… -->
                    <Grid Grid.Column="1" Margin="10">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <!-- è¡¨ä¿¡æ¯ -->
                        <StackPanel Grid.Row="0" Margin="0,0,0,10">
                            <TextBlock x:Name="TableNameTextBlock" Text="è¯·é€‰æ‹©ä¸€ä¸ªè¡¨"
                                       FontSize="16" FontWeight="Bold" Foreground="#333"/>
                            <TextBlock x:Name="TableInfoTextBlock" Text=""
                                       FontSize="11" Foreground="#666" Margin="0,5,0,0"/>
                        </StackPanel>

                        <!-- æ“ä½œæŒ‰é’® -->
                        <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,0,0,10">
                            <Button Content="ðŸ“Š æ˜¾ç¤ºè¡¨ç»“æž„" Width="120" Height="28" Margin="0,0,5,0"
                                    Click="OnShowTableStructureClick" Style="{StaticResource SecondaryButton}"/>
                            <Button Content="ðŸ“‹ å¤åˆ¶ DDL" Width="120" Height="28" Margin="0,0,5,0"
                                    Click="OnCopyTableDdlClick" Style="{StaticResource SecondaryButton}"/>
                            <Button Content="ðŸ“„ æŸ¥çœ‹æ•°æ®" Width="120" Height="28"
                                    Click="OnViewTableDataClick" Style="{StaticResource SecondaryButton}"/>
                        </StackPanel>

                        <!-- åˆ—ä¿¡æ¯ -->
                        <GroupBox Grid.Row="2" Header="åˆ—ä¿¡æ¯" Margin="0,0,0,10" Padding="8">
                            <DataGrid x:Name="ColumnsDataGrid" AutoGenerateColumns="False"
                                      IsReadOnly="True" CanUserAddRows="False"
                                      GridLinesVisibility="Horizontal" HeadersVisibility="Column"
                                      Background="White" BorderBrush="#DDD" BorderThickness="1"
                                      FontSize="12">
                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="åˆ—å" Binding="{Binding Name}" Width="*"/>
                                    <DataGridTextColumn Header="æ•°æ®ç±»åž‹" Binding="{Binding DataType}" Width="100"/>
                                    <DataGridCheckBoxColumn Header="å¯ç©º" Binding="{Binding IsNullable}" Width="50"/>
                                    <DataGridCheckBoxColumn Header="ä¸»é”®" Binding="{Binding IsPrimaryKey}" Width="50"/>
                                    <DataGridCheckBoxColumn Header="å¤–é”®" Binding="{Binding IsForeignKey}" Width="50"/>
                                    <DataGridTextColumn Header="é»˜è®¤å€¼" Binding="{Binding DefaultValue}" Width="100"/>
                                </DataGrid.Columns>
                            </DataGrid>
                        </GroupBox>

                        <!-- DDL é¢„è§ˆ -->
                        <GroupBox Grid.Row="3" Header="DDL é¢„è§ˆ" Padding="8">
                            <TextBox x:Name="TableDdlTextBox" IsReadOnly="True"
                                     VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto"
                                     FontFamily="Consolas" FontSize="11" Background="#FAFAFA"
                                     Text="é€‰æ‹©ä¸€ä¸ªè¡¨åŽï¼Œç‚¹å‡» 'æ˜¾ç¤ºè¡¨ç»“æž„' æŸ¥çœ‹å®Œæ•´ DDL"/>
                        </GroupBox>
                    </Grid>
                </Grid>
            </TabItem>

            <!-- Policies æ ‡ç­¾é¡µ -->
            <TabItem Header="Policies" FontSize="12">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,10">
                        <Button Content="ðŸ”„ åˆ·æ–°" Width="100" Height="28" Margin="0,0,5,0"
                                Click="OnRefreshPoliciesClick" Style="{StaticResource SecondaryButton}"/>
                        <Button Content="ðŸ“‹ å¤åˆ¶é€‰ä¸­ DDL" Width="120" Height="28"
                                Click="OnCopyPolicyDdlClick" Style="{StaticResource SecondaryButton}"/>
                    </StackPanel>

                    <DataGrid x:Name="PoliciesDataGrid" Grid.Row="1"
                              AutoGenerateColumns="False" IsReadOnly="True"
                              CanUserAddRows="False" GridLinesVisibility="Horizontal"
                              HeadersVisibility="Column" Background="White"
                              BorderBrush="#DDD" BorderThickness="1" FontSize="12">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ç­–ç•¥å" Binding="{Binding Name}" Width="*"/>
                            <DataGridTextColumn Header="è¡¨" Binding="{Binding TableName}" Width="150"/>
                            <DataGridTextColumn Header="å‘½ä»¤" Binding="{Binding Command}" Width="80"/>
                            <DataGridTextColumn Header="ç±»åž‹" Binding="{Binding PolicyType}" Width="90"/>
                            <DataGridTextColumn Header="è§’è‰²" Binding="{Binding Role}" Width="120"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </TabItem>

            <!-- Triggers æ ‡ç­¾é¡µ -->
            <TabItem Header="Triggers" FontSize="12">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,10">
                        <Button Content="ðŸ”„ åˆ·æ–°" Width="100" Height="28" Margin="0,0,5,0"
                                Click="OnRefreshTriggersClick" Style="{StaticResource SecondaryButton}"/>
                        <Button Content="ðŸ“‹ å¤åˆ¶é€‰ä¸­ DDL" Width="120" Height="28"
                                Click="OnCopyTriggerDdlClick" Style="{StaticResource SecondaryButton}"/>
                    </StackPanel>

                    <DataGrid x:Name="TriggersDataGrid" Grid.Row="1"
                              AutoGenerateColumns="False" IsReadOnly="True"
                              CanUserAddRows="False" GridLinesVisibility="Horizontal"
                              HeadersVisibility="Column" Background="White"
                              BorderBrush="#DDD" BorderThickness="1" FontSize="12">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="è§¦å‘å™¨å" Binding="{Binding Name}" Width="*"/>
                            <DataGridTextColumn Header="è¡¨" Binding="{Binding TableName}" Width="150"/>
                            <DataGridTextColumn Header="æ—¶æœº" Binding="{Binding Timing}" Width="80"/>
                            <DataGridTextColumn Header="äº‹ä»¶" Binding="{Binding Event}" Width="100"/>
                            <DataGridCheckBoxColumn Header="è¡Œçº§" Binding="{Binding IsRowLevel}" Width="50"/>
                            <DataGridCheckBoxColumn Header="å¯ç”¨" Binding="{Binding IsEnabled}" Width="50"/>
                            <DataGridTextColumn Header="å‡½æ•°" Binding="{Binding FunctionName}" Width="*"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </TabItem>

            <!-- Indexes æ ‡ç­¾é¡µ -->
            <TabItem Header="Indexes" FontSize="12">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,10">
                        <Button Content="ðŸ”„ åˆ·æ–°" Width="100" Height="28" Margin="0,0,5,0"
                                Click="OnRefreshIndexesClick" Style="{StaticResource SecondaryButton}"/>
                        <Button Content="ðŸ“‹ å¤åˆ¶é€‰ä¸­ DDL" Width="120" Height="28"
                                Click="OnCopyIndexDdlClick" Style="{StaticResource SecondaryButton}"/>
                    </StackPanel>

                    <DataGrid x:Name="IndexesDataGrid" Grid.Row="1"
                              AutoGenerateColumns="False" IsReadOnly="True"
                              CanUserAddRows="False" GridLinesVisibility="Horizontal"
                              HeadersVisibility="Column" Background="White"
                              BorderBrush="#DDD" BorderThickness="1" FontSize="12">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ç´¢å¼•å" Binding="{Binding Name}" Width="*"/>
                            <DataGridTextColumn Header="è¡¨" Binding="{Binding TableName}" Width="150"/>
                            <DataGridTextColumn Header="ç±»åž‹" Binding="{Binding IndexType}" Width="80"/>
                            <DataGridCheckBoxColumn Header="å”¯ä¸€" Binding="{Binding IsUnique}" Width="50"/>
                            <DataGridCheckBoxColumn Header="ä¸»é”®" Binding="{Binding IsPrimaryKey}" Width="50"/>
                            <DataGridTextColumn Header="åˆ—" Binding="{Binding ColumnsText}" Width="*"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </TabItem>

            <!-- Functions æ ‡ç­¾é¡µ -->
            <TabItem Header="Functions" FontSize="12">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,10">
                        <Button Content="ðŸ”„ åˆ·æ–°" Width="100" Height="28" Margin="0,0,5,0"
                                Click="OnRefreshFunctionsClick" Style="{StaticResource SecondaryButton}"/>
                        <Button Content="ðŸ“‹ å¤åˆ¶é€‰ä¸­ DDL" Width="120" Height="28"
                                Click="OnCopyFunctionDdlClick" Style="{StaticResource SecondaryButton}"/>
                    </StackPanel>

                    <GroupBox Grid.Row="1" Header="å‡½æ•°å®šä¹‰" Margin="0,0,0,10" Padding="8">
                        <TextBox x:Name="FunctionDefinitionTextBox" IsReadOnly="True"
                                 VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto"
                                 FontFamily="Consolas" FontSize="11" Background="#FAFAFA"
                                 Height="150" Text="é€‰æ‹©ä¸€ä¸ªå‡½æ•°åŽï¼Œæ˜¾ç¤ºå…¶å®šä¹‰"/>
                    </GroupBox>

                    <DataGrid x:Name="FunctionsDataGrid" Grid.Row="2"
                              AutoGenerateColumns="False" IsReadOnly="True"
                              CanUserAddRows="False" GridLinesVisibility="Horizontal"
                              HeadersVisibility="Column" Background="White"
                              BorderBrush="#DDD" BorderThickness="1" FontSize="12"
                              SelectionChanged="OnFunctionsDataGridSelectionChanged">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="å‡½æ•°å" Binding="{Binding Name}" Width="*"/>
                            <DataGridTextColumn Header="è¿”å›žç±»åž‹" Binding="{Binding ReturnType}" Width="150"/>
                            <DataGridTextColumn Header="ç±»åž‹" Binding="{Binding FunctionType}" Width="90"/>
                            <DataGridTextColumn Header="è¯­è¨€" Binding="{Binding Language}" Width="80"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </TabItem>

            <!-- Views æ ‡ç­¾é¡µ -->
            <TabItem Header="Views" FontSize="12">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,10">
                        <Button Content="ðŸ”„ åˆ·æ–°" Width="100" Height="28" Margin="0,0,5,0"
                                Click="OnRefreshViewsClick" Style="{StaticResource SecondaryButton}"/>
                        <Button Content="ðŸ“‹ å¤åˆ¶é€‰ä¸­ DDL" Width="120" Height="28"
                                Click="OnCopyViewDdlClick" Style="{StaticResource SecondaryButton}"/>
                    </StackPanel>

                    <DataGrid x:Name="ViewsDataGrid" Grid.Row="1"
                              AutoGenerateColumns="False" IsReadOnly="True"
                              CanUserAddRows="False" GridLinesVisibility="Horizontal"
                              HeadersVisibility="Column" Background="White"
                              BorderBrush="#DDD" BorderThickness="1" FontSize="12">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="è§†å›¾å" Binding="{Binding Name}" Width="*"/>
                            <DataGridTextColumn Header="æž¶æž„" Binding="{Binding Schema}" Width="120"/>
                            <DataGridCheckBoxColumn Header="ç‰©åŒ–" Binding="{Binding IsMaterialized}" Width="60"/>
                            <DataGridTextColumn Header="åˆ—æ•°" Binding="{Binding ColumnCount}" Width="70"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </TabItem>

            <!-- SQL Query æ ‡ç­¾é¡µ -->
            <TabItem Header="SQL Query" FontSize="12">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="10"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,10">
                        <Button Content="â–¶ï¸ æ‰§è¡ŒæŸ¥è¯¢" Width="100" Height="28" Margin="0,0,5,0"
                                Click="OnExecuteQueryClick" Style="{StaticResource PrimaryButton}"/>
                        <Button Content="ðŸ“‹ å¤åˆ¶ç»“æžœ" Width="110" Height="28" Margin="0,0,5,0"
                                Click="OnCopyQueryResultsClick" Style="{StaticResource SecondaryButton}"/>
                        <Button Content="ðŸ—‘ï¸ æ¸…ç©º" Width="80" Height="28"
                                Click="OnClearQueryClick" Style="{StaticResource SecondaryButton}"/>
                    </StackPanel>

                    <GroupBox Grid.Row="1" Header="SQL ç¼–è¾‘å™¨" Padding="8">
                        <TextBox x:Name="SqlEditorTextBox"
                                 VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto"
                                 FontFamily="Consolas" FontSize="12" Background="White"
                                 AcceptsReturn="True" AcceptsTab="True"
                                 Text="-- åœ¨æ­¤è¾“å…¥ SQL æŸ¥è¯¢&#x0a;SELECT * FROM public.your_table LIMIT 100;"/>
                    </GroupBox>

                    <GroupBox Grid.Row="3" Header="æŸ¥è¯¢ç»“æžœ" Padding="8">
                        <DataGrid x:Name="QueryResultsDataGrid"
                                  AutoGenerateColumns="True" IsReadOnly="True"
                                  CanUserAddRows="False" GridLinesVisibility="Horizontal"
                                  HeadersVisibility="Column" Background="White"
                                  BorderBrush="#DDD" BorderThickness="1" FontSize="12"/>
                    </GroupBox>
                </Grid>
            </TabItem>

            <!-- Data Editor æ ‡ç­¾é¡µ -->
            <TabItem Header="Data Editor" FontSize="12">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- è¡¨é€‰æ‹© -->
                    <Grid Grid.Row="0" Margin="0,0,0,10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Column="0" Text="é€‰æ‹©è¡¨:" VerticalAlignment="Center"
                                   FontSize="12" FontWeight="Bold" Margin="0,0,10,0"/>
                        <ComboBox x:Name="TableSelectorComboBox" Grid.Column="1"
                                  Height="28" FontSize="12" DisplayMemberPath="FullName"
                                  SelectionChanged="OnTableSelectorSelectionChanged"/>
                        <Button Grid.Column="2" Content="ðŸ”„ åŠ è½½æ•°æ®" Width="110" Height="28" Margin="10,0,0,0"
                                Click="OnLoadTableDataClick" Style="{StaticResource SecondaryButton}"/>
                    </Grid>

                    <!-- æ“ä½œæŒ‰é’® -->
                    <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,0,0,10">
                        <Button Content="âž• æ·»åŠ è¡Œ" Width="100" Height="28" Margin="0,0,5,0"
                                Click="OnAddRowClick" Style="{StaticResource SecondaryButton}"/>
                        <Button Content="ðŸ’¾ ä¿å­˜æ›´æ”¹" Width="110" Height="28" Margin="0,0,5,0"
                                Click="OnSaveRowChangesClick" Style="{StaticResource PrimaryButton}"/>
                        <Button Content="ðŸ—‘ï¸ åˆ é™¤è¡Œ" Width="100" Height="28"
                                Click="OnDeleteRowClick" Style="{StaticResource SecondaryButton}"/>
                    </StackPanel>

                    <!-- æ•°æ®ç½‘æ ¼ -->
                    <DataGrid x:Name="TableDataDataGrid" Grid.Row="2"
                              AutoGenerateColumns="True" CanUserAddRows="False"
                              GridLinesVisibility="All" HeadersVisibility="Column"
                              HorizontalGridLinesBrush="#DDD" VerticalGridLinesBrush="#EEE"
                              Background="White" BorderBrush="#DDD" BorderThickness="1"
                              FontSize="12" LoadingRow="OnTableDataDataGridLoadingRow"
                              AutoGeneratingColumn="OnTableDataDataGridAutoGeneratingColumn"/>
                </Grid>
            </TabItem>
        </TabControl>

        <!-- çŠ¶æ€æ  -->
        <StatusBar Grid.Row="2" Background="#ECECEC" BorderBrush="#CCC" BorderThickness="0,1,0,0">
            <StatusBarItem>
                <TextBlock x:Name="ConnectionStatusTextBlock" Text="âŒ æœªè¿žæŽ¥" Foreground="#999"/>
            </StatusBarItem>
            <Separator/>
            <StatusBarItem>
                <TextBlock x:Name="CurrentObjectTextBlock" Text=""/>
            </StatusBarItem>
            <StatusBarItem HorizontalAlignment="Right"/>
        </StatusBar>
    </Grid>
</Window>
